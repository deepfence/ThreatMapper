import React from 'react';
import { connect } from 'react-redux';
import { nodeFilterValueSelector } from '../../selectors/node-filters';
import { toaster } from '../../actions/app-actions';
import MalwareClassesImageReport from './malware-classes-image-report';

const MalwareClassesImageReportContainer = props => {
  const { malwareScanData, ...rest } = props;
  const data = malwareScanData && malwareScanData.data;
  const total = malwareScanData && malwareScanData.total;
  const { isToasterVisible } = props;
  return (
    <div>
      <MalwareClassesImageReport
        data={data}
        total={total}
        isToasterVisible={isToasterVisible}
        {...rest}
      />
    </div>
  );
};

const mapStateToProps = state => {
  const malwareScanData = state.getIn(['malwareScan', 'data']);
  return {
    malwareScanData,
    filterValues: nodeFilterValueSelector(state),
    isToasterVisible: state.get('isToasterVisible'),
  };
};

export default connect(mapStateToProps, {
  toaster,
})(MalwareClassesImageReportContainer);
